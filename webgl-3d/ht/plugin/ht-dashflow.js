!function(V){"use strict";var L="ht",i=V[L],X=i.Default,A=Math,g=(A.PI,A.sin,A.cos,A.atan2,A.sqrt,A.max),J=A.floor,z=(A.round,A.ceil),t=i.Shape,D=(i.Edge,i.List),G=i.Style,x=i.graph,n=X.getInternal(),l=n.ui(),Y=null,C="prototype",I=V.clearInterval,Z=V.setInterval,W=function(I){var V=I.data,o=this.dm();if(V&&"add"===I.kind){var R=o.$1c,a=V instanceof t?"shape.":"edge.";R&&V.s(a+"dash.flow")&&R.indexOf(V)<0&&R.push(V)}"clear"===I.kind&&(o.$1c=[])},K=function(E){var U=E.property,B=E.data,f=E.newValue,G=this.dm().$1c,S=B instanceof t?"s:shape.dash.flow":"s:edge.dash.flow";if(G&&U===S)if(f)G.indexOf(B)<0&&G.push(B);else for(var v=G.length,O=0;v>O;O++)if(G[O]===B){G.splice(O,1);break}},c=x.GraphView[C],N=l.EdgeUI[C],y=l.ShapeUI[C],H=y._80o,e=N._80o,w=i.DataModel[C],j=w.prepareRemove,d=c.setDataModel;G["edge.dash.flow.step"]==Y&&(G["edge.dash.flow.step"]=3),G["shape.dash.flow.step"]==Y&&(G["shape.dash.flow.step"]=3),w.prepareRemove=function(v){j.call(this,v);var n=v._dataModel,Z=n.$1c;if(Z)for(var t=Z.length,c=0;t>c;c++)if(Z[c]===v){Z.splice(c,1);break}},c.setDataModel=function(M){var I=this,A=I._dataModel;if(A!==M){A&&(A.umm(W,I),A.umd(K,I),A.$1c=[]),M.mm(W,I),M.md(K,I);var T=M.$1c=[];M.each(function(B){var i=B instanceof t?"shape.":"edge.";B.s(i+"dash.flow")&&T.indexOf(B)<0&&T.push(B)}),d.call(I,M)}},c.setDashFlowInterval=function(q){var Z=this,c=Z.$2c;Z.$2c=q,Z.fp("dashFlowInterval",c,q),Z.$3c!=Y&&(I(Z.$3c),delete Z.$3c,Z.enableDashFlow(q))},c.getDashFlowInterval=function(){return this.$2c},c.$4c=function(){var q,h,V,H=this,I=H.tx(),B=H.ty(),i=H._zoom,j=H.getWidth(),p=H.getHeight(),C={x:-I/i,y:-B/i,width:j/i,height:p/i},A=H.dm().$1c,E=H._56I,y=new D;if(A.forEach(function(v){E[v.getId()]&&(q=H.getDataUI(v),q&&(V=q._79o(),V&&y.add(V)))}),0!==y.size()&&(y.each(function(E){X.intersectsRect(C,E)&&(h=X.unionRect(h,E))}),h&&(h&&(X.grow(h,g(1,1/i)),h.x=J(h.x*i)/i,h.y=J(h.y*i)/i,h.width=z(h.width*i)/i,h.height=z(h.height*i)/i,h=X.intersection(C,h)),h))){var x=H._canvas.getContext("2d");x.save(),x.lineCap=X.lineCap,x.lineJoin=X.lineJoin;var F=X.devicePixelRatio,M=h.x,R=h.y,f=h.width,t=h.height;M=Math.floor((M*i+I)*F),R=Math.floor((R*i+B)*F),f=Math.ceil(f*i*F)+1,t=Math.ceil(t*i*F)+1,h.x=(M/F-I)/i,h.y=(R/F-B)/i,h.width=f/F/i,h.height=t/F/i,x.beginPath(),x.rect(M,R,f,t),x.clip(),x.clearRect(M,R,f,t),n.translateAndScale(x,I,B,i),H.$5c(x,h),x.restore()}},c.$5c=function(M,f){var e,O,s=this;s._93db(M),s.each(function(q){s._56I[q._id]&&(e=s.getDataUI(q),e&&(O=e._79o(),(!f||X.intersectsRect(f,O))&&(e.$7c=!0,e._42(M),delete e.$7c)))}),s._92db(M)},c.enableDashFlow=function(W){var N=this;N.$3c==Y&&(N.$3c=Z(function(){N.$4c()},W||N.$2c||50))},c.disableDashFlow=function(){var s=this;I(s.$3c),delete s.$3c};var F=function(){var M=this,r=M._data,m=r instanceof t?"shape.":"edge.",b=r.s(m+"dash.pattern"),i=r.s(m+"dash.flow.reverse");if(b&&r.s(m+"dash")&&r.s(m+"dash.flow")&&M.$7c){var T=M.s(m+"dash.offset")||0,Z=r.s(m+"dash.flow.step"),s=r.getStyleMap(),q=0;b.forEach(function($){q+=$}),i&&(Z=-Z),T-=Z,T%=q,s||(r._styleMap=s={}),s[m+"dash.offset"]=T}};N._80o=function(z){e.call(this,z),F.call(this)},y._80o=function(c){H.call(this,c),F.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);