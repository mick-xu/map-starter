!function(K,G,S){"use strict";var O="ht",b=K[O],r=b.Default,i=r.isTouchable,d=b.Color,Y="px",B="0",T="innerHTML",g="className",$="position",w="absolute",_="width",y="height",N="left",c="top",L="right",u="bottom",l="max-width",J="max-height",A=null,p="none",q="",C=K.parseInt,X=K.setTimeout,v=r.getInternal(),R=r.animate,H=d.titleIconBackground,P=function(){return document},s=function(T){return P().createElement(T)},W=function(){return s("div")},Q=function(){return s("canvas")},E=function(W,b,U){W.style.setProperty(b,U,A)},Z=function(S,c){return S.style.getPropertyValue(c)},a=function(N,Z){N.appendChild(Z)},I=function(d,W){d.removeChild(W)},o=v.addEventListener,n=(v.removeEventListener,function(V){var W=V.scrollWidth,N=V.scrollHeight;return V===P().body&&(W=Math.max(W,P().documentElement.scrollWidth),N=Math.max(N,P().documentElement.scrollHeight)),{width:W,height:N}}),M=function(O){var o=O.touches[0];return o?o:O.changedTouches[0]};v.addMethod(r,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:H,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:H}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:H},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:H}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:H},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:H}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:H},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:H},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:H},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:H}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:H},{type:"rect",rect:[10,118,268,56],background:H},{type:"rect",rect:[10,213,268,56],background:H}]},panelTitleLabelColor:r.labelSelectColor,panelTitleLabelFont:r.labelFont,panelContentLabelFont:r.labelFont,panelTitleBackground:d.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:S},!0);var U=b.widget.Panel=function(T){var z=this,V=z._view=v.createView(null,z);z.$1i=0,z.$18i=new b.Notifier,z.$2i="leftTop",E(V,c,B),E(V,N,B),E(V,$,w),E(V,"overflow","hidden"),z._interactor=new k(z),z.setConfig(T),z.addEventListener(function(P){var X=z.getPanelConfig(P.id),O=X.content;("beginRestore"===P.kind||"betweenResize"===P.kind||"endToggle"===P.kind)&&(O&&O.invalidate&&O.invalidate(),X.items&&X.items.forEach(function(W){W&&W.content&&W.content.invalidate&&W.content.invalidate()}))})};r.def(U,G,{ms_v:1,_dragContainment:"parent",setConfig:function(k){function b(p){p.expanded=!p.expanded,v.togglePanel(p.id,!0,!0)}if(k){for(var v=this,h=v._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);v._config=k,v.$35i=[],k.expanded==A&&(k.expanded=k.expand!=A?k.expand:!0);var Z=v._view,Q=v.$24i(k,Z,!0),G=Q[2],N=k.width;v.$35i.push(Q[1]),k.items&&k.items.forEach(function(q){q.expanded==A&&(q.expanded=q.expand!=A?q.expand:!0);var a=v.$24i(q,G.children[0]);v.$35i.push(a[1])});var x=W();E(x,_,10+Y),E(x,y,10+Y),E(x,$,w),E(x,u,B),E(x,L,B),x[g]="resize-area",a(Z,x),v.$10i(),k.flowLayout&&E(Z,$,"relative"),E(Z,"opacity",B),a(P().body,Z),N==A&&(N=Z.offsetWidth),E(Z,_,N+Y),E(Z,l,N+Y);var s=k.content;s&&s.isSelfViewEvent&&(s.setX(0),s.setY(0),s.setWidth(N-2*(k.borderWidth||0)),s.setHeight(k.contentHeight)),k.items&&k.items.forEach(function(h){b(h)}),k.buttons&&k.buttons.indexOf("toggle")<0||b(k),k.minimized==A&&k.minimize!=A&&(k.minimized=k.minimize),k.minimized&&k.minimizable!==!1&&v.minimize(!0),I(P().body,Z),E(Z,"opacity",q),h&&a(h,Z),v.iv()}},getPanelConfig:function(K){var A=this,R=A._config,l=R.items;if(R.id===K)return R;if(l)for(var U=0;U<l.length;U++){var f=l[U];if(f.id===K)return f}},getPanelView:function(A){for(var V=this,d=V.$35i,P=0;P<d.length;P++){var t=d[P],D=t.parentNode;if(D.$15i===A)return D}},setDragContainment:function(T){this._dragContainment=T},getDragContainment:function(){return this._dragContainment},$20i:function(){var f=this._config,l=f.restoreIconSize||24;return l},$5i:function(J){var Y=J.titleIconSize||16;return i&&(Y*=1.2),Y},$4i:function(Z){var H=Z.titleHeight||r.widgetTitleHeight;return H},setTitle:function(f,S){if(S==A&&(S=this._config.id),S!=A){var s=this.getPanelConfig(S),Z=this.getPanelView(S);s.title=f,Z.querySelector(".panel-title span").innerHTML=f}},setInnerPanel:function(y){var W,Q,K=this,T=y.id,j=K.$35i,s=!1;if(y.expanded==A&&(y.expanded=!0),T!=A){var o=K.getPanelConfig(T);if(o){s=!0;var F,c=K.getPanelView(T),Y=c.parentNode,m=c.children[0];if(c!==K._view){K.$11i();for(F in o)delete o.key;for(F in y)o[F]=y[F];W=K.$24i(y,Y,!1,c),Q=W[1],Y.removeChild(c);for(var t=0;t<j.length;t++)if(j[t]===m){j.splice(t,1,Q);break}K.$12i(),o.expanded=!o.expanded,K.togglePanel(o.id,!0,!0),K.iv()}}}if(!s){K.$11i(),W=K.$24i(y,K._view.children[1]),Q=W[1],j.push(Q),K._config.items||(K._config.items=[]);var x=K._config.items;if(x.push(y),K.$12i(),x.length>1){var M=x[x.length-2],l=K.getPanelView(M.id).children[0];E(l,"border-bottom",K.$55i(M))}y.expanded=!y.expanded,K.togglePanel(y.id,!0,!0),K.iv()}},removeInnerPanel:function(V){var C,P=this,A=-1,$=P._config.items;if($)for(C=0;C<$.length;C++){var D=$[C];if(D.id===V){A=C;break}}if(P.$11i(),A>=0){var s=P.$35i,R=P.getPanelView(V),m=R.children[0];for(C=0;C<s.length;C++)if(s[C]===m){s.splice(C,1);break}$.splice(A,1),R.parentNode.removeChild(R)}if(P.$12i(),$.length>0){var g=$[$.length-1],L=P.getPanelView(g.id).children[0];E(L,"border-bottom",P.$55i(g))}},$6i:function($){E($,"cursor","pointer"),E($,"display","inline-block"),E($,"margin-right",(i?8:4)+Y),E($,"vertical-align",c)},$24i:function(l,y,_,V){var Z=this,e=Z._config.flowLayout,o=_?y:W(),d=Z.$50i(l),x=Z.$3i(l,_);o[g]="ht-widget-panel"+(_?" outer-panel":" inner-panel"),l.borderWidth==A&&(l.borderWidth=_?2:0);var M=l.borderWidth;if(M="0 "+M+Y+" "+M+Y+" "+M+Y+" ",E(o,"border-width",M),E(o,"border-color",l.titleBackground||r.panelTitleBackground),E(o,"border-style","solid"),a(o,x),a(o,d),_||(V?y.insertBefore(o,V):a(y,o)),!e&&_&&l.minimizable!==!1){var N=Q(),n=Z.$20i(),t=l.restoreToolTip;v.setCanvas(N,n,n),N[g]="control-button button-minimize button-minimize-restore",Z.$6i(N),E(N,"display","none"),a(y,N),N.title=t||""}var P=l.panelBackground||l.titleBackground||r.panelTitleBackground;if(E(o,"background-color",P),l.id==A){for(var F=Z.$1i++;Z.getPanelConfig(F);)F=Z.$1i++;l.id=F}return o.$15i=l.id,l.width&&(o.style.width=l.width+Y),[o,x,d]},$9i:function(z){var H=Q();H[g]="control-button button-toggle button-toggle-expand",H.title=z.toggleToolTip||"";var c=this.$4i(z),I=this.$5i(z);return this.$6i(H),v.setCanvas(H,I,c),H},$8i:function(w){var i=Q(),I="control-button button-independent-switch";i[g]=w.independent===!0?I+" button-independent-switch-on":I+" button-independent-switch-off",i.title=w.independentSwitchToolTip||"";var Z=this.$4i(w),S=this.$5i(w);return this.$6i(i),v.setCanvas(i,S,Z),i},$7i:function(b){var w=Q();w[g]="control-button button-minimize button-minimize-minimize",w.title=b.minimizeToolTip||"";var Z=this.$4i(b),s=this.$5i(b);return this.$6i(w),v.setCanvas(w,s,Z),w},$55i:function(V){var n=this._config,c=n.items,B=V.separatorWidth||r.panelSeparatorWidth,G=V.titleBackground||r.panelTitleBackground,j=V.expanded!==!1?G:V.separatorColor||r.panelSeparatorColor||r.brighter(G);return(n===V||c&&c.indexOf(V)===c.length-1)&&(B=0),B+Y+" solid "+j},$3i:function(X,o){var l=this,h=l._config.flowLayout,P=W(),y=W(),D=l.$4i(X),b=X.titleBackground,q=X.titleColor,S=X.titleIcon,f=X.buttons;if(P[g]="panel-title",E(P,$,"relative"),E(P,"background",b||r.panelTitleBackground),E(P,"color",q||r.panelTitleLabelColor),E(P,c,B),E(P,"box-sizing","border-box"),E(P,"-moz-box-sizing","border-box"),E(P,"padding","0 5px 0 0"),E(P,_,"100%"),E(P,"cursor","default"),E(P,"white-space","nowrap"),E(P,"font",r.panelTitleLabelFont),S){var V=Q();V[g]="control-button panel-title-icon";var A=l.$4i(X),k=l.$5i(X);l.$6i(V),v.setCanvas(V,k,A),a(P,V)}var F=s("span");E(F,"display","inline-block"),E(F,"margin-left","5px"),F[T]="<span>"+X.title+"</span>",a(P,F),E(P,"line-height",D+Y),y[g]="panel-title-controls",E(y,$,w),E(y,N,B),E(y,L,5+Y),E(y,c,B),E(y,u,B),E(y,"text-align",L);var G=function(){var F=l.$9i(X);a(y,F)},K=function(){if(!h&&o&&X.minimizable!==!1){var s=l.$7i(X);a(y,s)}},C=function(){if(!o){var H=l.$8i(X);a(y,H)}},U=function(j){var Z=Q();Z[g]="control-button custombutton-"+j.name,Z.title=j.toolTip||"",Z._action=j.action;var J=l.$4i(X),x=l.$5i(X);l.$6i(Z),v.setCanvas(Z,x,J),a(y,Z)};if(f)for(var M=0;M<f.length;M++){var O=f[M];"string"==typeof O?"minimize"===O?K():"independentSwitch"===O?C():"toggle"===O&&G():"object"==typeof O&&U(O)}else K(),G();return a(P,y),P},$50i:function(V){var d=W(),H=V.contentHeight,Q=W();E(Q,$,"relative"),d[g]="panel-body",E(d,"overflow","hidden");var L=V.contentBackground;if(L===S&&(L="white"),E(d,"background",L),E(d,"font",r.panelContentLabelFont),a(d,Q),V.content){var B,N=V.content;N.getView?(a(Q,N.getView()),B=Q.children[0]):N instanceof Element?(a(Q,N),B=Q.children[0]):Q[T]=N,N.isSelfViewEvent||B&&(E(B,_,"100%"),E(B,y,"100%")),H&&E(Q,y,H+Y)}return d},$10i:function(){var j=this,I=j._config,E=j._view,i=E.querySelector(".resize-area").style;i.display=I.flowLayout||I.minimized===!0||I.expanded===!1?p:"block"},$11i:function(){var F=this._view,D=F.children[1];this.$13i>=0?this.$13i++:this.$13i=1,E(D,J,q),E(F,l,q)},$12i:function(){var W=--this.$13i;if(0===W){var A=this._view,i=A.children[1];E(i,J,i.scrollHeight+Y),E(A,l,A.offsetWidth+Y)}},$14i:function(){var N=this._view,Y=N.children[0],B=Y.children[1].children,s=this._config,y=0;N.$26i=N.offsetWidth,y+=Y.children[0].offsetWidth,s.titleIcon&&(y+=Y.children[1].offsetWidth,B=Y.children[2].children);for(var q=0;q<B.length;q++){var a=B[q];y+=a.offsetWidth+5}N.$51i=y+15},togglePanel:function(W,$,P){function O(N){var h=N.target,p=h.parentNode,S=f.getPanelConfig(p.$15i);delete p.$19i,h!==n&&f.$12i(),f.$18i.fire({kind:"endToggle",target:f,id:S.id})}for(var f=this,z=f._view,n=z.children[1],Q=A,y=f.$35i,H=y.length,t=f._config.exclusive,p=f.$2i,V=[],D=f._config.narrowWhenCollapse,w=0;H>w;w++){var G=y[w],C=G.parentNode,L=C.$15i,b=f.getPanelConfig(L);L===W&&(Q=C),!$&&t&&b.expanded&&C!==z&&L!==W&&b.independent!==!0&&V.push(C)}if(Q&&!Q.$19i){Q.$19i=!0;var a=Q.children[1],S=Q.querySelector(".button-toggle"),N=f.getPanelConfig(Q.$15i);if(!S)return;Q===z||N.expanded||N.independent===!0||V.forEach(function(j){f.togglePanel(j.$15i,!0)}),Q!==z&&f.$11i();var o=200;if(P&&(o=0),f.$18i.fire({kind:"beginToggle",target:f,id:Q.$15i}),N.expanded){var k=function(){S[g]="control-button button-toggle",S[g]+=p.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",E(a,_,a.clientWidth+Y),N.expanded=!1,E(Q.children[0],"border-bottom",f.$55i(N)),R(a).duration(o).set("opacity",B).set(J,B).end(O),D&&Q===z&&R(Q).duration(o).set(l,Q.$51i+Y).end(),Q[g]+=" panel-collapse",R(Q).duration(o).set("padding-bottom",B).end(),f.$28i(N,!0),f.$10i()};D&&Q===z&&f.$14i(),k()}else S[g]="control-button button-toggle",S[g]+=p.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",E(a,_,q),N.expanded=!0,E(Q.children[0],"border-bottom",f.$55i(N)),R(a).duration(o).set("opacity","1").set(J,a.scrollHeight+Y).end(O),D&&Q===z&&R(Q).duration(o).set(l,(Q.$26i||Q.offsetWidth)+Y).end(),Q[g]=Q[g].replace(" panel-collapse",q),R(Q).duration(o).end(),f.$28i(N,!0),f.$10i()}},$16i:function(){var O=this._view,G=O.$22i,_=O.$23i,D=this.$2i;return G==A&&(D.indexOf(N)>=0?G=O.$22i=0:D.indexOf(L)>=0&&(G=O.$22i=100)),_==A&&(D.indexOf("Top")>=0?_=O.$23i=0:D.indexOf("Bottom")>=0&&(_=O.$23i=100)),[G,_]},$25i:function(){var X=this,O=X._view,d=O.$21i,P=X.$20i(),z=X.$16i(),V=z[0],Q=z[1],T=X.$2i;O.children[0].style.display=p,O.children[1].style.display=p,O.children[2].style.display=q,E(O,"padding",B),E(O,l,P+Y),"leftTop"===T?(E(O,N,C(Z(O,N))+(d.width-P)*V/100+Y),E(O,c,C(Z(O,c))+(d.height-P)*Q/100+Y)):"leftBottom"===T?(E(O,N,C(Z(O,N))+(d.width-P)*V/100+Y),E(O,u,C(Z(O,u))+(d.height-P)*(1-Q/100)+Y)):"rightTop"===T?(E(O,L,C(Z(O,L))+(d.width-P)*(1-V/100)+Y),E(O,c,C(Z(O,c))+(d.height-P)*Q/100+Y)):"rightBottom"===T&&(E(O,L,C(Z(O,L))+(d.width-P)*(1-V/100)+Y),E(O,u,C(Z(O,u))+(d.height-P)*(1-Q/100)+Y)),O[g]+=" panel-minimized",X.$18i.fire({kind:"endMinimize",target:X,id:O.$15i})},$17i:function(){var Y=this,p=Y._config,H=Y._view;E(H,"-webkit-transform",q),E(H,"-ms-transform",q),E(H,"transform",q),p.minimized?Y.$25i():(Y.$18i.fire({kind:"endRestore",target:Y,id:p.id}),H[g]=H[g].replace(" panel-minimized",q)),delete H.$19i},minimize:function(w){var P=this,B=P._view;if(!B.$19i&&B.children[0].style.display!==p){var i=P._config,J=B.getBoundingClientRect(),W=P.$20i(),$=J.width,b=J.height,d=W/$,m=W/b,t=P.$16i(),z=t[0],U=t[1];B.$52i=d,B.$53i=m,B.$21i=J,P.$18i.fire({kind:"beginMinimize",target:P,id:B.$15i});var j=200;w&&(j=0),i.minimized=!0,B.$19i=!0,i.expanded&&(B.$26i=B.offsetWidth);var K=z+"% "+U+"%";E(B,"-webkit-transform-origin",K),E(B,"-ms-transform-origin",K),E(B,"transform-origin",K),R(B).duration(j).scale(d,m).end(function(){P.$17i()}),P.$10i()}},restore:function(){var b,Q,m,v,M,o,F,P,g,q,d,z,i=this,U=i._view,S=U.parentNode,T=i._config;if(!U.$19i&&T.minimized){var O=U.$21i,y=U.$52i,W=U.$53i,a=(T.borderWidth+Y,i.$20i()),$=n(S),r=i.$2i;"leftTop"===r?(b=C(Z(U,N)),m=C(Z(U,c)),M=b,F=m,g=b+O.width-$.width,q=m+O.height-$.height,g>0&&(g>=b?b=0:b-=g),q>0&&(q>=m?m=0:m-=q),d=100*((M-b)/(O.width-a)),z=100*((F-m)/(O.height-a)),E(U,N,b+Y),E(U,c,m+Y)):"leftBottom"===r?(b=C(Z(U,N)),v=C(Z(U,u)),M=b,P=v,g=b+O.width-$.width,q=v+O.height-$.height,g>0&&(g>=b?b=0:b-=g),q>0&&(q>=v?v=0:v-=q),d=100*((M-b)/(O.width-a)),z=100*(1-(P-v)/(O.height-a)),E(U,N,b+Y),E(U,u,v+Y)):"rightTop"===r?(Q=C(Z(U,L)),m=C(Z(U,c)),o=Q,F=m,g=Q+O.width-$.width,q=m+O.height-$.height,g>0&&(g>=Q?Q=0:Q-=g),q>0&&(q>=m?m=0:m-=q),d=100*(1-(o-Q)/(O.width-a)),z=100*((F-m)/(O.height-a)),E(U,L,Q+Y),E(U,c,m+Y)):"rightBottom"===r&&(Q=C(Z(U,L)),v=C(Z(U,u)),o=Q,P=v,g=Q+O.width-$.width,q=v+O.height-$.height,g>0&&(g>=Q?Q=0:Q-=g),q>0&&(q>=v?v=0:v-=q),d=100*(1-(o-Q)/(O.width-a)),z=100*(1-(P-v)/(O.height-a)),E(U,L,Q+Y),E(U,u,v+Y)),U.children[0].style.display="block",U.children[1].style.display="block",U.children[2].style.display=p,E(U,"-webkit-transform","scale("+y+", "+W+")"),E(U,"-ms-transform","scale("+y+", "+W+")"),E(U,"transform","scale("+y+", "+W+")"),U.$22i=d,U.$23i=z,E(U,"-webkit-transform-origin",d+"% "+z+"%"),E(U,"-ms-transform-origin",d+"% "+z+"%"),E(U,"transform-origin",d+"% "+z+"%"),T.narrowWhenCollapse&&!T.expanded?E(U,l,U.$51i+Y):E(U,l,U.$26i+Y),i.$18i.fire({kind:"beginRestore",target:i,id:U.$15i}),U.$19i=!0,T.minimized=!1,X(function(){R(U).scale(1,1).end(function(){i.$17i()})},30),i.$10i()}},addEventListener:function(J,n,Y){this.$18i.add(J,n,Y)},removeEventListener:function(I,C){this.$18i.remove(I,C)},setPosition:function(h,v){var P=this._view,n=this.$2i;"leftTop"===n?(E(P,N,h+Y),E(P,c,v+Y),E(P,L,q),E(P,u,q)):"leftBottom"===n?(E(P,N,h+Y),E(P,u,v+Y),E(P,L,q),E(P,c,q)):"rightTop"===n?(E(P,L,h+Y),E(P,c,v+Y),E(P,N,q),E(P,u,q)):"rightBottom"===n&&(E(P,L,h+Y),E(P,u,v+Y),E(P,N,q),E(P,c,q)),delete P.$22i,delete P.$23i},getPosition:function(){var n=this._view,J=this.$2i;return"leftTop"===J?{x:C(Z(n,N)),y:C(Z(n,c))}:"leftBottom"===J?{x:C(Z(n,N)),y:C(Z(n,u))}:"rightTop"===J?{x:C(Z(n,L)),y:C(Z(n,c))}:"rightBottom"===J?{x:C(Z(n,L)),y:C(Z(n,u))}:void 0},setPositionRelativeTo:function(C){var E=this,h=E._view.querySelectorAll(".button-toggle"),P="control-button button-toggle",i=E.getPosition();E.$2i=C,E.setPosition(i.x,i.y);for(var j=0;j<h.length;j++){var w=h[j],J=E.getPanelConfig(w.parentNode.parentNode.parentNode.$15i);w[g]=J.expanded?C.indexOf("Bottom")>=0?P+" button-toggle-collapse":P+" button-toggle-expand":C.indexOf("Bottom")>=0?P+" button-toggle-expand":P+" button-toggle-collapse"}E.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(c){var v=this;v._68I||(v._68I=1,r.callLater(v.validate,v,A,c),v.onInvalidated&&v.onInvalidated(),v.fireViewEvent("invalidate"));var E=this._config,Y=E.content;Y&&Y.invalidate&&Y.invalidate(),E.items&&E.items.forEach(function(w){w&&w.content&&w.content.invalidate&&w.content.invalidate()})},getIconStretch:function(){var J=this._config.iconStretch||"fill";return J},$27i:function(d,m,D,f,V){var h=v.initContext(d);v.translateAndScale(h,0,0,1),h.clearRect(0,0,D,D);var P=(D-f)/2;r.drawStretchImage(h,r.getImage(m),this.getIconStretch(V),0,P,f,f),h.restore()},$28i:function(S){var D,J,g,q=this,G=S.id,C=q.getPanelView(G),M=C.querySelector(".button-toggle"),x=q.$2i.indexOf("Bottom")>=0;if(J=x?r.panelCollapseIcon:r.panelExpandIcon,g=x?r.panelExpandIcon:r.panelCollapseIcon,M){D=S.expanded?r.getImage(g):r.getImage(J);var Z=q.$4i(S),Q=q.$5i(S);q.$27i(M,D,Z,Q,"toggle")}},$29i:function(R){var l,j=this,X=R.id,Y=j.getPanelView(X),c=Y.querySelector(".button-independent-switch"),P=r.panelUnLockIcon,p=r.panelLockIcon;if(c){l=R.independent!==!0?r.getImage(p):r.getImage(P);var o=j.$4i(R),h=j.$5i(R);j.$27i(c,l,o,h,"switch")}},$30i:function(E){var L=this,V=E.id,s=L.getPanelView(V),q=s.querySelector(".button-minimize-minimize"),P=r.panelMinimizeIcon;if(q){var h=L.$4i(E),A=L.$5i(E);L.$27i(q,r.getImage(P),h,A,"miminize")}},$31i:function(z){var a=this,$=z.id,e=a.getPanelView($),m=e.querySelector(".button-minimize-restore"),T=z.titleIcon||r.panelRestoreIcon;if(m){var v=a.$20i();a.$27i(m,r.getImage(T),v,v,"restore")}},$32i:function(p){var I=this,T=p.id,S=I.getPanelView(T);if(p.buttons){var i=p.buttons;i.forEach(function(k){var e=k.name,D=k.icon;if(e&&D){var v=S.querySelector(".custombutton-"+e);if(v){var q=I.$4i(p),V=I.$5i(p)-1;I.$27i(v,r.getImage(D),q,V,"custom")}}})}},$33i:function(n){var u=this,e=n.id,y=u.getPanelView(e),Q=y.querySelector(".panel-title-icon"),T=n.titleIcon;if(Q&&T){var S=u.$4i(n),F=u.$5i(n);u.$27i(Q,r.getImage(T),S,F,"title")}},validateImpl:function(){var v=this,x=v._config;v.$28i(x),v.$30i(x),v.$31i(x),v.$32i(x),v.$33i(x),x.items&&x.items.forEach(function(m){v.$28i(m),v.$29i(m),v.$32i(m)})}});var k=function(c){var I=this,C=c.getView();I.$34i=c,I.addListeners(),o(C,"dblclick",I.$42i.bind(I))};r.def(k,G,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(W){for(var O=this.$34i,e=W.target,U=O.$35i,j=U.length,m=0;j>m;m++){var r=U[m];r.contains(e)&&(W.preventDefault(),O.togglePanel(r.parentNode.$15i))}},handle_touchstart:function(A){var J=this,Z=J.$34i,s=Z._config,_=s.flowLayout,L=A;if(r.isLeftButton(A)){var j=A.target,G=Z.getView().children[0],u=Z.getView().querySelector(".button-minimize-restore");i&&(L=M(A));var P=J.$40i={x:L.pageX,y:L.pageY};J.$41i={x:P.x,y:P.y},(!_&&G.contains(j)||u&&u.contains(j))&&(J.$38i=!0,r.startDragging(J,A)),!_&&J.handle_mousemove(A)&&(J.$37i=!0,r.startDragging(J,A),Z.$11i())}},handle_mousedown:function(h){this.handle_touchstart(h)},handle_touchend:function(P){var Z=this,$=Z.$34i,Y=P.target,_=$.$35i,j=_.length,n=0,G=$.getView(),e=G.querySelector(".button-minimize"),k=G.querySelector(".button-minimize-restore");if(!Z.$39i&&!Z.$36i){if(e&&e.contains(Y)||k&&k.contains(Y))P.preventDefault(),$._config.minimized?$.restore():$.minimize();else for(;j>n;n++){var E=_[n],F=E.parentNode,z=F.$15i,r=$.getPanelConfig(z),y=E.querySelector(".button-toggle"),u=E.querySelector(".button-independent-switch");if(y===Y)P.preventDefault(),$.togglePanel(z);else if(u===Y){P.preventDefault();var O="button-independent-switch-off",c="button-independent-switch-on";r.independent=r.independent==A?!0:!r.independent,u[g]=r.independent?u[g].replace(O,c):u[g].replace(c,O),$.$29i(r)}else Y[g]&&Y[g].indexOf("control-button custombutton-")>=0&&E.contains(Y)&&Y._action.call($,r,$.getPanelView(z),P)}delete Z.$40i,delete Z.$41i}},handle_mouseup:function(j){this.handle_touchend(j)},handleWindowTouchEnd:function(){var V=this,z=V.$34i;V.$37i&&V.$36i?(z.$18i.fire({kind:"endResize",target:z,id:z.getView().$15i}),z.$12i()):V.$38i&&V.$39i&&z.$18i.fire({kind:"endMove",target:z,id:z.getView().$15i}),this.clear()},handleWindowMouseUp:function(d){this.handleWindowTouchEnd(d)},handle_mousemove:function(d){var t=this,O=t.getView(),b=O.querySelector(".resize-area"),J=b.getBoundingClientRect(),K={x:J.left,y:J.top,width:J.width,height:J.height};d=i?M(d):d;var x=d.clientX,y=d.clientY,T=t.$34i._config;return T.expanded&&T.minimized!==!0&&r.containsPoint(K,{x:x,y:y})?(O.style.cursor="nwse-resize",!0):(O.style.cursor=q,void 0)},handleWindowTouchMove:function(l){l.preventDefault();var U=l;i&&(U=M(l));var t=this,W=t.$40i,g=t.$41i;if(!(g.x==W.x&&g.y==W.y&&r.getDistance(g,{x:U.pageX,y:U.pageY})<=1)){var F=t.$34i,S=t.getView(),q=S.parentNode,$=F._config,G=$.resizeMode||"wh",b=U.pageX-W.x,s=U.pageY-W.y,A=F.$2i;if(t.$37i){var I=S.children[1].children[0],j=S.offsetWidth,x=I.offsetHeight,h=j+b,J=x+s;h=Math.max(h,100),J=Math.max(J,100),"w"===G?(E(S,_,h+Y),$.width=h):"h"===G?(E(I,y,J+Y),$.contentHeight=J):"wh"===G&&(E(S,_,h+Y),E(I,y,J+Y),$.width=h,$.contentHeight=J),A.indexOf("right")>=0&&E(S,L,C(Z(S,L))-(h-j)+Y),A.indexOf("Bottom")>=0&&E(S,u,C(Z(S,u))-(J-x)+Y),W.x=U.pageX,W.y=U.pageY;var P=$.content;P&&P.isSelfViewEvent&&(P.setX(0),P.setY(0),P.setWidth($.width-2*($.borderWidth||0)),P.setHeight($.contentHeight)),t.$36i?F.$18i.fire({kind:"betweenResize",target:F,id:F.getView().$15i}):(t.$36i=!0,F.$18i.fire({kind:"beginResize",target:F,id:F.getView().$15i}))}else if(t.$38i){var z,p,R,o,Q,e,V,D,m,K,w=S.getBoundingClientRect(),O=w.width,v=w.height,d=n(q),k=d.width,B=d.height,a=F._dragContainment;"leftTop"===A?(z=C(Z(S,N))||0,R=C(Z(S,c))||0,Q=z+b,V=R+s,"parent"===a&&(Q+O>k&&(Q=k-O),V+v>B&&(V=B-v),0>Q&&(Q=0),0>V&&(V=0)),m=Q-z,K=V-R,F.setPosition(Q,V),W.x+=m,W.y+=K):"rightBottom"===A?(p=C(Z(S,L))||0,o=C(Z(S,u))||0,e=p-b,D=o-s,"parent"===a&&(0>e&&(e=0),0>D&&(D=0),e+O>k&&(e=k-O),D+v>B&&(D=B-v)),m=e-p,K=D-o,F.setPosition(e,D),W.x-=m,W.y-=K):"rightTop"===A?(p=C(Z(S,L))||0,R=C(Z(S,c))||0,e=p-b,V=R+s,"parent"===a&&(0>e&&(e=0),0>V&&(V=0),e+O>k&&(e=k-O),V+v>B&&(V=B-v)),m=e-p,K=V-R,F.setPosition(e,V),W.x-=m,W.y+=K):"leftBottom"===A&&(z=C(Z(S,N))||0,o=C(Z(S,u))||0,Q=z+b,D=o-s,"parent"===a&&(0>Q&&(Q=0),0>D&&(D=0),Q+O>k&&(Q=k-O),D+v>B&&(D=B-v)),m=Q-z,K=D-o,F.setPosition(Q,D),W.x+=m,W.y-=K),t.$39i?F.$18i.fire({kind:"betweenMove",target:F,id:F.getView().$15i}):(t.$39i=!0,F.$18i.fire({kind:"beginMove",target:F,id:F.getView().$15i}))}}},handleWindowMouseMove:function(j){this.handleWindowTouchMove(j)}});var z=b.widget.PanelGroup=function(c){var p=this,V=p._view=v.createView(null,p);V.style.border="1px dashed black",V.style.position="absolute",V.style.background="rgba(120, 120, 120, 0.4)",p.$48i=new b.List,p._tolerance=100,p._config=c||{hGap:0,vGap:0},p.bindHandlePanelMove=p.handlePanelMove.bind(p),p.bindHandlePanelEvent=p.handlePanelEvent.bind(p),p.invalidate()};r.def(z,G,{invalidate:function(){var r=this;r._68I||(r._68I=1,X(function(){r.validate()},50))},validate:function(){if(this._68I){delete this._68I;var X=this.$48i.get(0);if(X){var p=X.getView().parentNode;p&&(this.layoutPanels(p,"leftTop"),this.layoutPanels(p,"rightTop"),this.layoutPanels(p,"leftBottom"),this.layoutPanels(p,"rightBottom"))}}},setLeftTopPanels:function(){var F=this,G=F.$43i,C=F.$48i;G==A&&(G=F.$43i=new b.List);for(var t=0;t<arguments.length;t++){var Y=arguments[t];if("string"==typeof Y)G.$49i=Y;else{if(Y._config.flowLayout)continue;Y.setPositionRelativeTo("leftTop"),G.contains(Y)||G.add(Y),C.contains(Y)||F.add(Y)}}},setRightTopPanels:function(){var p=this,k=p.$44i,f=p.$48i;k==A&&(k=p.$44i=new b.List);for(var L=0;L<arguments.length;L++){var h=arguments[L];if("string"==typeof h)k.$49i=h;else{if(h._config.flowLayout)continue;h.setPositionRelativeTo("rightTop"),k.contains(h)||k.add(h),f.contains(h)||p.add(h)}}},setLeftBottomPanels:function(){var m=this,k=m.$45i,d=m.$48i;k==A&&(k=m.$45i=new b.List);for(var O=0;O<arguments.length;O++){var _=arguments[O];if("string"==typeof _)k.$49i=_;else{if(_._config.flowLayout)continue;_.setPositionRelativeTo("leftBottom"),k.contains(_)||k.add(_),d.contains(_)||m.add(_)}}},setRightBottomPanels:function(){var d=this,V=d.$46i,e=d.$48i;V==A&&(V=d.$46i=new b.List);for(var v=0;v<arguments.length;v++){var C=arguments[v];if("string"==typeof C)V.$49i=C;else{if(C._config.flowLayout)continue;C.setPositionRelativeTo("rightBottom"),V.contains(C)||V.add(C),e.contains(C)||d.add(C)}}},add:function(E){if(!E._config.flowLayout){var M=this,p=M.$48i;p.contains(E)||(E.addEventListener(M.bindHandlePanelMove),E.addEventListener(M.bindHandlePanelEvent),p.add(E))}},remove:function(R){var W=this,U=W.$48i;U.contains(R)&&(R.removeEventListener(W.bindHandlePanelMove),R.removeEventListener(W.bindHandlePanelEvent),U.remove(R),W.$43i.contains(R)&&W.$43i.remove(R),W.$44i.contains(R)&&W.$44i.remove(R),W.$45i.contains(R)&&W.$45i.remove(R),W.$46i.contains(R)&&W.$46i.remove(R))},layoutPanels:function(b,P,U){var o=this,D=o._config,K=D.hGap||0,N=D.vGap||0;if(b){var A=o.$43i;if("leftBottom"===P?A=o.$45i:"rightTop"===P?A=o.$44i:"rightBottom"===P&&(A=o.$46i),!A)return;var Z=A.$49i,W=K,e=N;if(b.contains(o._view)&&b.removeChild(o._view),A&&A.size()>0)for(var y=0;y<A.size();y++){var J=A.get(y),s=J.getView();b=b||s.parentNode,U!==y?J.setPosition(W,e):("leftTop"===P?(o._view.style.right="",o._view.style.bottom="",o._view.style.left=W+Y,o._view.style.top=e+Y):"leftBottom"===P?(o._view.style.right="",o._view.style.top="",o._view.style.left=W+Y,o._view.style.bottom=e+Y):"rightTop"===P?(o._view.style.left="",o._view.style.bottom="",o._view.style.right=W+Y,o._view.style.top=e+Y):"rightBottom"===P&&(o._view.style.left="",o._view.style.top="",o._view.style.right=W+Y,o._view.style.bottom=e+Y),o._view.style.width=s.offsetWidth+Y,o._view.style.height=s.offsetHeight+Y,b.insertBefore(o._view,s)),"h"===Z?W+=s.offsetWidth+K:"v"===Z&&(e+=s.offsetHeight+N)}}},handlePanelEvent:function(M){if("beginToggle"===M.kind||"endToggle"===M.kind||"beginRestore"===M.kind||"endMinimize"===M.kind||"endResize"===M.kind){var u=this,x=M.target,L=x.getView(),P=L.parentNode,f=u.$43i,B=u.$44i,m=u.$45i,p=u.$46i,H=u._config,C=A,b=A,y=x.$47i;if(y==A&&(y=x.$47i=0),"beginToggle"===M.kind?y=x.$47i=y+1:"endToggle"===M.kind&&(y=x.$47i=y-1),f&&f.contains(x)?(C="leftTop",b=f):m&&m.contains(x)?(C="leftBottom",b=m):B&&B.contains(x)?(C="rightTop",b=B):p&&p.contains(x)&&(C="rightBottom",b=p),"beginToggle"===M.kind&&C&&1===y){var c=W(),w=c.style,e=b.$49i,z="each";w.fontSize="0",w.position="absolute",w.width="100%","leftTop"===C?(w.left=0,w.top=0):"leftBottom"===C?(w.left=0,w.bottom=0,"v"===e&&(z="reverseEach")):"rightTop"===C?(w.right=0,w.top=0,w.textAlign="right","h"===e&&(z="reverseEach")):"rightBottom"===C&&(w.right=0,w.bottom=0,w.textAlign="right",z="reverseEach"),b[z](function(y){var G=y.getView(),g=G.style,T=W();g.position="static",T.style.textAlign="left",T.style.position="relative",T.style.display="inline-block","leftTop"===C?(T.style.marginLeft=H.hGap+Y,T.style.marginTop=H.vGap+Y):"leftBottom"===C?(T.style.marginLeft=H.hGap+Y,T.style.marginBottom=H.vGap+Y):"rightTop"===C?(T.style.marginRight=H.hGap+Y,T.style.marginTop=H.vGap+Y):"rightBottom"===C&&(T.style.marginRight=H.hGap+Y,T.style.marginBottom=H.vGap+Y),T.appendChild(G),c.appendChild(T),"h"===e?T.style.verticalAlign="leftTop"===C||"rightTop"===C?"top":"bottom":c.appendChild(s("br"))}),u.$54i=c,P.appendChild(c)}else"endToggle"===M.kind&&C&&0===y?X(function(){P=P.parentNode.parentNode,P.removeChild(u.$54i),delete u.$54i,b.each(function(A){var r=A.getView(),o=r.style;o.position="absolute",P.appendChild(r)}),u.layoutPanels(P,C)},30):("beginRestore"===M.kind||"endMinimize"===M.kind||"endResize"===M.kind)&&C&&u.layoutPanels(P,C)}},handlePanelMove:function(H){if(!(H.kind.indexOf("Move")<0)){var t=this,L=t._config,w=L.hGap||0,o=L.vGap||0,u=H.target,q=u._view,a=q.getBoundingClientRect(),s=a.width,l=a.height,T=s/2,K=l/2,Y=q.parentNode,z=t.$43i,F=t.$44i,p=t.$45i,S=t.$46i,O=Y.getBoundingClientRect(),f=t._tolerance;if("endMove"===H.kind){var k=t._corner;k&&(u.setPositionRelativeTo(k),t.layoutPanels(Y,k)),delete t._corner}if("betweenMove"===H.kind){var y=O.left,Z=O.top,N=O.width,n=O.height,h=a.left+s/2,I=a.top+l/2;z==A&&(z=t.$43i=new b.List),p==A&&(p=t.$45i=new b.List),F==A&&(F=t.$44i=new b.List),S==A&&(S=t.$46i=new b.List),delete t._corner,z.contains(u)?(z.remove(u),t.layoutPanels(Y,"leftTop")):p.contains(u)?(p.remove(u),t.layoutPanels(Y,"leftBottom")):F.contains(u)?(F.remove(u),t.layoutPanels(Y,"rightTop")):S.contains(u)&&(S.remove(u),t.layoutPanels(Y,"rightBottom"));var v=function(c,G){var H=y+w,V=Z+o;if(0===G.size()){var d=H+T,b=V+K;"leftBottom"===c?b=Z+n-o-K:"rightTop"===c?d=y+N-w-T:"rightBottom"===c&&(d=y+N-w-T,b=Z+n-o-K);var D=h-d,U=I-b,R=Math.sqrt(D*D+U*U);if(f>R)return t._corner=c,G.add(u),t.layoutPanels(Y,c,0),!0}else if(1===G.size()){var M=G.get(0),F=M.getView().getBoundingClientRect(),$=F.left+T,B=F.top+K,P=F.left+F.width+w+T,x=V+K,X=H+T,_=F.top+F.height+o+K;"leftBottom"===c?(B=F.top+F.height-K,x=Z+n-o-K,_=F.top-o-K):"rightTop"===c?($=F.left+F.width-T,P=F.left-w-T,X=y+N-w-T):"rightBottom"===c&&($=F.left+F.width-T,B=F.top+F.height-K,P=F.left-w-T,x=Z+n-o-K,X=y+N-w-T,_=F.top-o-K);var g=h-$,k=I-B,v=h-P,j=I-x,q=h-X,O=I-_,L=C(Math.sqrt(g*g+k*k)),i=C(Math.sqrt(v*v+j*j)),l=C(Math.sqrt(q*q+O*O)),E=[L,i,l];E.sort(function(I,a){return I-a});var p=E[0];if(f>p){if(t._corner=c,p===L)return G.add(u,0),t.layoutPanels(Y,c,0),!0;if(p===i)return G.add(u),G.$49i="h",t.layoutPanels(Y,c,1),!0;if(p===l)return G.add(u),G.$49i="v",t.layoutPanels(Y,c,1),!0}}else if(G.size()>1){for(var Q=A,r={},e=[],W=G.$49i,S=0;S<G.size();S++){var m=G.get(S),J=m.getView(),s=J.getBoundingClientRect(),z=s.left+T,a=s.top+K;"leftBottom"===c?a=s.top+s.height-K:"rightTop"===c?z=s.left+s.width-T:"rightBottom"===c&&(z=s.left+s.width-T,a=s.top+s.height-K),S===G.size()-1&&(Q=s);var D=h-z,U=I-a,R=C(Math.sqrt(D*D+U*U));r[R]=S,e.push(R)}"leftTop"===c&&"h"===W?(d=Q.left+Q.width+w+T,b=V+K):"leftTop"===c&&"v"===W?(d=H+T,b=Q.top+Q.height+o+K):"leftBottom"===c&&"h"===W?(d=Q.left+Q.width+w+T,b=Z+n-o-K):"leftBottom"===c&&"v"===W?(d=H+T,b=Q.top-o-K):"rightTop"===c&&"h"===W?(d=Q.left-w-T,b=V+K):"rightTop"===c&&"v"===W?(d=y+N-w-T,b=Q.top+Q.height+o+K):"rightBottom"===c&&"h"===W?(d=Q.left-w-T,b=Z+n-o-K):"rightBottom"===c&&"v"===W&&(d=y+N-w-T,b=Q.top-o-K),D=h-d,U=I-b,R=C(Math.sqrt(D*D+U*U)),r[R]=S,e.push(R),e.sort(function(O,q){return O-q});var p=e[0];if(f>p)return t._corner=c,G.add(u,r[p]),t.layoutPanels(Y,c,r[p]),!0}};v("leftTop",z)||v("leftBottom",p)||v("rightTop",F)||v("rightBottom",S)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);