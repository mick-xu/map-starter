!function(K,V,D){"use strict";var A=ht.LiveNode=function(){A.superClass.constructor.apply(this)};ht.Default.def("ht.LiveNode",ht.Node,{_width:100,_height:35,_image:null,_enabled:!0,_editable:!0,_hover:!1,_pressed:!1,isEnabled:function(){return this._enabled},setEnabled:function(h){var D=this._enabled;this._enabled=h,this.fp("enabled",D,h)},isEditable:function(){return this._enabled},setEditable:function(x){var Z=this._editable;this._editable=x,this.fp("editable",Z,x)},isHover:function(){return this._hover},setHover:function(x){var W=this._hover;this._hover=x,this.fp("hover",W,x)},isPressed:function(){return this._pressed},setPressed:function(F){var R=this._pressed;this._pressed=F,this.fp("pressed",R,F)},getBackground:function(){var K,z,x=this;return K=x._enabled?x._pressed?"live.background.active":x._hover?"live.background.hover":"live.background":"live.background.disabled",z=x.s(K),z?z:x.s("live.background")},getForeground:function(){var Z,B,k=this;return Z=k._enabled?k._pressed?"live.label.active":k._hover?"live.label.hover":"live.label.color":"live.label.disabled",B=k.s(Z),B?B:k.s("live.label.color")},setRotation:null,getUIClass:function(){return ht.graph.LiveNodeUI}});var p=ht.graph.LiveNodeUI=function(){p.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.LiveNodeUI",ht.Default.getInternal().ui().NodeUI,{freeDraw:function(G,E){var r=this,_=r._data,A=ht.Default.getImage(_._image);ht.Default.drawImage(G,A,E.x,E.y,E.width,E.height,_,r.gv)},onKeyDown:function(P){var X=this,Q=X._data;return 32===P.keyCode||13===P.keyCode?(Q.setPressed(!0),!0):void 0},onKeyUp:function(q){var w=this._data;(32===q.keyCode||13===q.keyCode)&&(w.setPressed(!1),w.onClicked&&w.onClicked(q))},onMouseOver:function(){this._data.setHover(!0)},onMouseOut:function(){this._data.setHover(!1)},onMouseDown:function(){this._data.setPressed(!0)},onMouseMove:function(){},onMouseUp:function(Q){var b=this._data;b.setPressed(!1),b.onClicked&&b.onClicked(Q)}});var e=ht.ButtonNode=function(){e.superClass.constructor.apply(this)};ht.Default.def("ht.ButtonNode",ht.LiveNode,{_image:"button_image"}),ht.Default.setImage("button_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var E=ht.ToggleButtonNode=function(){E.superClass.constructor.apply(this)};ht.Default.def("ht.ToggleButtonNode",ht.ButtonNode,{_selected:!1,getUIClass:function(){return ht.graph.ToggleButtonNodeUI},getBackground:function(){var I,f,L=this;return L._enabled?(L._hover&&(I="live.background.hover"),L.s(I)||(I=L._selected?"live.background.active":"live.background")):I="live.background.disabled",f=L.s(I),f?f:L.s("live.background")},getForeground:function(){var j,v,i=this;return i._enabled?(i._hover&&(j="live.label.hover"),i.s(j)||(j=i._selected?"live.label.active":"live.label.color")):j="live.label.disabled",v=i.s(j),v?v:i.s("live.label.color")},isSelected:function(){return this._selected},setSelected:function(r){var f=this,Y=f._selected,n=f._buttonGroup;f._selected=r,f.fp("selected",Y,r)&&(n&&r&&n._selected!==f&&(n._selected&&n._selected.setSelected(!1),n._selected=f,n.onChanged(f)),f.onChanged(r))},onChanged:function(){}});var j=ht.graph.ToggleButtonNodeUI=function(){j.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ToggleButtonNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(l){var g=this;return j.superClass.onKeyDown.call(g,l)?(g.toggleSelect(),!0):void 0},onMouseDown:function(s){var P=this;j.superClass.onMouseDown.call(P,s),P.toggleSelect()},toggleSelect:function(){var E=this,L=E._data;L._buttonGroup?L._selected||L.setSelected(!0):L.setSelected(!L._selected),L.setHover(!1)}});var n=ht.CheckboxNode=function(){var V=this;n.superClass.constructor.apply(V),V.s("live.label.align","left"),V.s("live.background",ht.Color.widgetIconBackground),V.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.CheckboxNode",ht.ToggleButtonNode,{_image:"checkbox_image",getBackground:function(){var R,Y=this;return R=Y._enabled?Y._selected?"live.background.active":"live.background":"live.background.disabled",Y.s(R)},getForeground:function(){var M,Y=this;return M=Y._enabled?Y._selected?"live.background.active":"live.background":"live.background.disabled",Y.s(M)}}),ht.Default.setImage("checkbox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},background:{func:"getBackground"},rect:{func:function(z){var M=(z._width,z._height);return{x:.1*M,y:.2*M,width:.6*M,height:.6*M}}}},{type:"shape",points:{func:function(F){var e=(F._width,F._height);return[.3*e,.5*e,.4*e,.6*e,.55*e,.35*e]}},borderWidth:{func:function(K){return.05*K._height}},borderColor:"#FFFFFF",visible:{func:function(N){return N._selected||N._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:{func:function(Y){var s=Y._width,c=Y._height;return{x:.8*c,y:0,width:s-.8*c,height:c}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var o=ht.RadioButtonNode=function(){var k=this;o.superClass.constructor.apply(k),k.s("live.label.align","left"),k.s("live.background",ht.Color.widgetIconBackground),k.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.RadioButtonNode",ht.ToggleButtonNode,{_image:"radioButton_image",getUIClass:function(){return ht.graph.RadioButtonNodeUI},getBackground:function(){var E,O=this;return E=O._enabled?O._selected?"live.background.active":"live.background":"live.background.disabled",O.s(E)},getForeground:function(){var J,R=this;return J=R._enabled?R._selected?"live.background.active":"live.background":"live.background.disabled",R.s(J)}}),ht.Default.setImage("radioButton_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"circle",borderWidth:{func:function(C){return.1*C._height}},borderColor:{func:"getBackground"},rect:{func:function(l){var A=(l._width,l._height);return{x:.1*A,y:.2*A,width:.6*A,height:.6*A}}}},{type:"circle",background:{func:"getBackground"},rect:{func:function(t){var V=(t._width,t._height);return{x:.3*V,y:.4*V,width:.2*V,height:.2*V}}},visible:{func:function(V){return V._selected||V._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getBackground"},font:{func:"style@live.label.font"},rect:{func:function(u){var Z=u._width,k=u._height;return{x:.8*k,y:0,width:Z-.8*k,height:k}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var O=ht.graph.RadioButtonNodeUI=function(){O.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.RadioButtonNodeUI",ht.graph.ToggleButtonNodeUI,{toggleSelect:function(){this._data._selected||this._data.setSelected(!0)}});var s=ht.SwitchNode=function(){var Z=this;s.superClass.constructor.apply(Z),Z.s("live.background",ht.Color.widgetIconBackground),Z.s("live.background.active",ht.Color.widgetIconHighlight),Z.s("live.label.color",ht.Color.widgetIconBackground),Z.s("live.label.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SwitchNode",ht.ToggleButtonNode,{_image:"switch_image",getBackground:function(){return this.s(this._selected?"live.background.active":"live.background")},getForeground:function(){return this.s(this._selected?"live.label.active":"live.label.color")}}),ht.Default.setImage("switch_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@switch.background"},opacity:{func:function(S){return S._enabled?1:.5}},rect:[0,0,1,1],relative:!0},{type:"circle",background:{func:"getBackground"},opacity:{func:function(r){return r._enabled?1:.5}},rect:{func:function(d){var X=30,s=10,l=d._selected;return{x:l?d._width-s-X:s,y:(d._height-X)/2,width:X,height:X}}}},{type:"text",text:{func:function(U){return U.s(U._selected?"switch.text.on":"switch.text.off")}},rect:[17,1,1],relative:!0,offsetX:{func:function(N){return N._selected?-10:10}},color:{func:"getForeground"},font:{func:"style@live.label.font"},align:{func:"style@live.label.align"}}]});var J=ht.ComboboxNode=function(){var O=this;J.superClass.constructor.apply(O),O.s("live.label.align","left")};ht.Default.def("ht.ComboboxNode",ht.LiveNode,{_image:"combobox_image",_buttonWidth:20,_maxHeight:200,_selectedIndex:-1,getUIClass:function(){return ht.graph.ComboboxNodeUI},getItems:function(){return this._items},setItems:function(z){var p=this._items;this._items=z,this.fp("items",p,z)},getSelectedItem:function(){return this._selectedItem},setSelectedItem:function($){var E,K=this,L=K._items,t=K._selectedItem;!L||(E=L.indexOf($))<0||(K._selectedItem=$,K._selectedIndex=E,K.s("live.label",$?K.getItemName($):""),K.fp("selectedItem",t,$)&&K.onChanged($))},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(S){var E=this,t=E._items;!t||0>S||S>=t.length||(E._selectedIndex=S,E.setSelectedItem(t[S]))},getItemName:function($){return $.label||$},onChanged:function(){}}),ht.Default.setImage("combobox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"shape",points:{func:function(v){var o=v._buttonWidth,k=v._width,E=v._height;return[k-o+.5*o,.6*E,k-o+.75*o,.4*E,k-o+.25*o,.4*E]}},background:{func:function($){return $._pressed?"#000000":"#FFFFFF"}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var r=ht.graph.ComboboxNodeUI=function(){r.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ComboboxNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(i){var L,s=this._data,R=0;return(37===i.keyCode||38===i.keyCode)&&(R=-1),(39===i.keyCode||40===i.keyCode)&&(R=1),R?(s._selectedIndex>=0?L=s._selectedIndex+R:s._items&&s._items.length>0&&(L=1===R?0:s.items.length-1),s.setSelectedIndex(L),this._ignore=!0,!0):27===i.keyCode||13===i.keyCode?(this._hidePopup(),!0):void 0},onMouseMove:function(){this._data._pressed&&(this._moved=!0)},onMouseUp:function(C){var u=this;r.superClass.onMouseUp.call(u,C),u._moved||(u._list?u._hidePopup():u._showPopup()),delete u._moved},_42:function(k){if(r.superClass._42.call(this,k),this._list&&this._data._selectedIndex>=0){var u=this._list.getDataModel().getDatas().get(this._data._selectedIndex);this._list.sm().ld()!==u&&this._list.sm().setSelection(u)}},_showPopup:function(){var z,Y,$,w,G,C,h,Q,i,e,p=this,r=p._data,v=r._items,K=p.gv._view.getBoundingClientRect(),S=(r._position.x-r._width/2)*p.gv._zoom+p.gv.tx()+K.left-p.gv._view.scrollLeft,I=(r._position.y+r._height/2)*p.gv._zoom+p.gv.ty()+K.top-p.gv._view.scrollTop;if(v&&0!==v.length){for(z=new ht.DataModel,Y=this._list=new ht.widget.ListView(z),Y.getIcon=function(){return null},Y.drawRow=function(m,H,P,n,L,Z,e){Y._focusData===H&&(m.fillStyle=ht.Default.darker(H.s("live.background")),m.beginPath(),m.rect(n,L,Z,e),m.fill()),ht.widget.ListView.prototype.drawRow.apply(Y,arguments)},$=0;$<v.length;$++)w=new ht.Data,w.setName(r.getItemName(v[$])),w._index=$,z.add(w),r._selectedIndex===$&&Y.sm().setSelection(w);Y.onSelectionChanged=function(){var T=Y.sm().ld();T&&!p._ignore&&(r.setSelectedIndex(T._index),p._hidePopup(),delete p._ignore)},Y.getSelectBackground=function(A){var l=A.s("live.background");return A===Y._focusData?ht.Default.darker(l):l},ht.Default.getInternal().addEventListener(Y.getView(),"mousemove",function(Q){Y.setFocusData(Y.getDataAt(Q)),Y.invalidateModel()}),Q=ht.Default.getWindowInfo(),C=r._width,h=Math.min(Y.getRowHeight()*v.length,r._maxHeight,Q.height),i=Q.width-C-10,e=Q.height-h-10,S=S>i?i:S,I=I>e?e:I,S=0>S?0:S,I=0>I?0:I,G=Y.getView().style,G.left=S+Q.left+"px",G.top=I+Q.top+"px",G.width=C+"px",G.height=h+"px",G.zIndex=1e4,G.background="white",G.borderWidth="1px",G.borderColor="#DDDDE0",G.borderStyle="solid",G.borderRadius="5px",ht.Default.appendToScreen(Y.getView()),t(function(){p._hidePopup()})}},_hidePopup:function(){this._list&&(ht.Default.removeHTML(this._list.getView()),delete this._list)}});var M=ht.ProgressBarNode=function(){var t=this;M.superClass.constructor.apply(t),t.s("label.position",17),t.s("live.background",ht.Color.widgetIconBackground),t.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.ProgressBarNode",ht.LiveNode,{_image:"progressBar_image",_value:0,getValue:function(){return this._value},setValue:function(H){var k=this._value;this._value=H,this.fp("value",k,H)},getName:function(){return this._value+"%"}}),ht.Default.setImage("progressBar_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background"},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(e){return[0,0,e._value/100,.5]}},relative:!0},{type:"rect",background:{func:function(X){return ht.Default.darker(X.s("live.background.active"))}},rect:{func:function(A){return[0,.5,A._value/100,.5]}},relative:!0}]});var I=ht.SliderNode=function(){var x=this;I.superClass.constructor.apply(x),x.s("label.position",17),x.s("live.background",ht.Color.widgetIconBackground),x.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SliderNode",ht.LiveNode,{_image:"slider_image",_orientation:"horizontal",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SliderNodeUI},getOrientation:function(){return this._orientation},setOrientation:function(C){var o=this._orientation;this._orientation=C,this.fp("orientation",o,C)},isHorizontal:function(){var T=this._orientation;return"h"===T||"horizontal"===T},getValue:function(){return this._value},setValue:function(f){var o=this,b=o._min,p=o._max,l=o._step;b>f&&(f=b),f>p&&(f=p),f=Math.floor(f/l)*l;var X=o._value;o._value=f,o.fp("value",X,f)&&o.onChanged(f)},getMin:function(){return this._min},setMin:function(l){var a=this._min;this._min=l,this.fp("min",a,l),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(k){var z=this._max;this._max=k,this.fp("max",z,k),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(U){var s=this._step;this._step=U,this.fp("step",s,U),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){}}),ht.Default.setImage("slider_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(M){var g=M.s("slider.bar.size"),H=M.s("slider.thumb.size")+M.s("live.border.width"),b=M._value/(M._max-M._min),G=M.isHorizontal(),D=M._width,r=M._height;return{x:G?H:(D-g)/2,y:G?(r-g)/2:r-H-(r-2*H)*b,width:G?(D-2*H)*b:g,height:G?g:(r-2*H)*b}}}},{type:"rect",background:{func:"style@live.background"},rect:{func:function(W){var T=W.s("slider.bar.size"),r=W.s("slider.thumb.size")+W.s("live.border.width"),g=W._value/(W._max-W._min),X=W.isHorizontal(),u=W._width,F=W._height;return{x:X?r+(u-2*r)*g:(u-T)/2,y:X?(F-T)/2:r,width:X?(u-2*r)*(1-g):T,height:X?T:(F-2*r)*(1-g)}}}},{type:"circle",borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@slider.thumb.background"},rect:{func:function(b){var T=b.s("slider.thumb.size"),Y=b._value/(b._max-b._min),o=b.isHorizontal(),C=b._width,e=b._height;return{x:o?Y*(C-2*T):C/2-T,y:o?e/2-T:(1-Y)*(e-2*T),width:2*T,height:2*T}}}}]});var v=ht.graph.SliderNodeUI=function(){v.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SliderNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(j){var e=this._data,l=e.isHorizontal(),c=0;return(l&&37===j.keyCode||!l&&40===j.keyCode)&&(c=-1),(l&&39===j.keyCode||!l&&38===j.keyCode)&&(c=1),c?(e.setValue(e._value+e._step*c),!0):void 0},onMouseDown:function(w){var y=this,V=y._data,N=ht.Default.getClientPoint(w);y._start=V.isHorizontal()?N.x:N.y,y._startValue=V._value},onDrag:function(i){var Q=this;if(Q._start===D)return!1;var y=Q._data,z=y.isHorizontal(),Y=y._step,M=ht.Default.getClientPoint(i),B=z?M.x:M.y,c=y.s("slider.thumb.size")+y.s("live.border.width"),r=z?y._width:y._height-2*c,f=(B-Q._start)*(z?1:-1),G=(y._max-y._min)*f/r/Q.gv._zoom;return y.setValue(Q._startValue+Math.floor(G/Y)*Y),!0},onMouseUp:function(){delete this._start,delete this._startValue}});var R=ht.SpinnerNode=function(){R.superClass.constructor.apply(this),this._styleMap={},this._styleMap["label.position"]=16};ht.Default.def("ht.SpinnerNode",ht.LiveNode,{_image:"spinner_image",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SpinnerNodeUI},getValue:function(){return this._value},setValue:function(c){c<this._min&&(c=this._min),c>this._max&&(c=this._max),c=Math.floor(c/this._step)*this._step;var n=this._value;this._value=c,this.fp("value",n,c)&&this.onChanged(c)},getMin:function(){return this._min},setMin:function(M){var N=this._min;this._min=M,this.fp("min",N,M),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(e){var k=this._max;this._max=e,this.fp("max",k,e),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(P){var $=this._step;this._step=P,this.fp("step",$,P),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){},getForeground:function(){return this.s(this._enabled?"live.label.active":"live.label.color")}}),ht.Default.setImage("spinner_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:function(P){return P.s(P._enabled?"spinner.background":"live.background.disabled")}},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:function(d){var b;return b=d._topPressed?"live.background.active":d._topHover?"live.background.hover":"live.background",d.s(b)}},rect:{func:function(O){var K=O.s("spinner.button.width"),e=O.s("live.border.width");return{x:O._width-K,y:e,width:K-e,height:O._height/2-e}}}},{type:"shape",points:{func:function(B){var E=B.s("spinner.button.width"),_=B._width,J=B._height;return[_-E+.5*E,.15*J,_-E+.75*E,.4*J,_-E+.25*E,.4*J]}},background:{func:function(Q){return Q._topHover?"#000000":"#FFFFFF"}}},{type:"rect",background:{func:function(N){var k;return k=N._bottomPressed?"live.background.active":N._bottomHover?"live.background.hover":"live.background",N.s(k)}},rect:{func:function(V){var q=V.s("spinner.button.width"),U=V.s("live.border.width"),k=V._width,w=V._height;return{x:k-q,y:w/2,width:q-U,height:w/2-U}}}},{type:"shape",points:{func:function(M){var m=M.s("spinner.button.width"),j=M._width,I=M._height;return[j-m+.5*m,.9*I,j-m+.75*m,.65*I,j-m+.25*m,.65*I]}},background:{func:function(W){return W._bottomHover?"#000000":"#FFFFFF"}}}]});var N=ht.graph.SpinnerNodeUI=function(){N.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SpinnerNodeUI",ht.graph.LiveNodeUI,{_refresh:function(s){var C=this._data,m=C.s("spinner.button.width"),r=this.gv.getLogicalPoint(s),N={x:C._position.x+C._width/2-m,y:C._position.y-C._height/2,width:m,height:C._height/2},R={x:C._position.x+C._width/2-m,y:C._position.y,width:m,height:C._height/2};C._topHover=ht.Default.containsPoint(N,r),C._bottomHover=ht.Default.containsPoint(R,r)},onKeyDown:function(u){var v=this._data,W=0;return 38===u.keyCode&&(W=1),40===u.keyCode&&(W=-1),W?(v.setValue(v._value+v._step*W),!0):void 0},onMouseOut:function(){var b=this._data;b._topHover=!1,b._bottomHover=!1,this.gv.invalidateData(b)},onMouseDown:function(C){var r=this,H=r._data,W=0;r._refresh(C),H._topPressed=H._topHover,H._bottomPressed=H._bottomHover,H._topPressed&&(W=1),H._bottomPressed&&(W=-1),W&&(H.setValue(H._value+H._step*W),r._timer&&clearTimeout(r._timer),r._interval&&clearInterval(r._interval),r._timer=setTimeout(function(){r._interval=setInterval(function(){H.setValue(H._value+H._step*W)},100)},1e3))},onMouseMove:function(S){this._refresh(S),this.gv.invalidateData(this._data)},onMouseUp:function(){var o=this,h=o._data;h._topHover=!1,h._bottomHover=!1,h._topPressed=!1,h._bottomPressed=!1,o.gv.invalidateData(h),o._timer&&(clearTimeout(o._timer),delete o._timer),o._interval&&(clearInterval(o._interval),delete o._interval)}}),ht.ButtonGroup=function(L){var c=this;c._items=new ht.List,c.addAll(L)},ht.Default.def("ht.ButtonGroup",V,{add:function(n){var B=this;B._items.contains(n)||(B._items.add(n),n._buttonGroup=B,B._selected&&n._selected&&B._selected.setSelected(!1),n._selected&&(B._selected=n))},addAll:function(Z){Z&&new ht.List(Z).each(self.add,self)},remove:function(q){var Y=this;Y._items.contains(q)&&(Y._items.remove(q),delete q._buttonGroup,Y._selected===q&&delete Y._selected)},getItems:function(){return this._items},clear:function(){var W=this;W._items.each(W.remove,W)},getSelected:function(){return this._selected},onChanged:function(){}});var W=ht.Style,q=ht.Color,F=q.widgetBackground,G=q.widgetIconHighlight,w=ht.Default.labelSelectColor;W["live.shape"]="rect",W["live.border.width"]=1,W["live.border.color"]=q.widgetBorder,W["live.gradient"]="",W["live.gradient.color"]="#FFF",W["live.background"]=G,W["live.background.disabled"]=F,W["live.background.hover"]=ht.Default.brighter(G),W["live.background.active"]=ht.Default.darker(G),W["live.label"]="",W["live.label.offset.x"]=0,W["live.label.offset.y"]=0,W["live.label.align"]="center",W["live.label.font"]=D,W["live.label.color"]=w,W["live.label.disabled"]=q.widgetIconBackground,W["live.label.hover"]=w,W["live.label.active"]=w,W["switch.background"]=F,W["switch.text.on"]="ON",W["switch.text.off"]="OFF",W["slider.bar.size"]=6,W["slider.thumb.size"]=8,W["slider.thumb.background"]=G,W["spinner.background"]="#FFFFFF",W["spinner.button.width"]=20;var b=ht.graph.GraphView.prototype;b.getFocusData=function(){return this._focusData},b.handleKeyUp=function(h){var A=this._focusData,w=A&&this._25I[A._id];A&&A._enabled&&A._editable&&w&&w.onKeyUp&&w.onKeyUp(h)},b.handleMouseDown=function(T,c){this._focusData=c;var A=c&&this._25I[c._id];c&&c._enabled&&c._editable&&A&&A.onMouseDown&&A.onMouseDown(T)},b.handleMouseUp=function(N,j){var x=j&&this._25I[j._id];j&&j._enabled&&j._editable&&x&&x.onMouseUp&&x.onMouseUp(N)},b.handleMouseMove=function(s){var f=this._lastHoverData,O=f&&this._25I[f._id],H=this.getDataAt(s),R=H&&this._25I[H._id];f&&O&&f._enabled&&f._editable&&(f===H?O.onMouseMove&&O.onMouseMove(s):O.onMouseOut&&O.onMouseOut(s)),H&&f!==H&&H._enabled&&H._editable&&R&&R.onMouseOver&&R.onMouseOver(s),this._lastHoverData=H},b._93O=function(A,y){var P=y&&this._25I[y._id];return y&&y._enabled&&y._editable&&P&&P.onDrag&&P.onDrag(A)},b=ht.graph.DefaultInteractor.prototype,b.handle_keyup=function(C){this.gv.handleKeyUp&&this.gv.handleKeyUp(C)},b.handle_mousemove=function(c){this.gv.handleMouseMove&&this.gv.handleMouseMove(c)};var U=new ht.List,t=function(P){setTimeout(function(){U.add(P)},0)};ht.Default.getInternal().addEventListener(K,ht.Default.isTouchable?"touchend":"mouseup",function(){U.size()>0&&setTimeout(function(){U.each(function(f){f()}),U.clear()},0)})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);