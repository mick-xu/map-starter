!function(y,b){"use strict";var V="ht",Y=y[V],P="px",o="left",u="top",w="bottom",q="right",L="innerHTML",U="className",K="",l="width",O="height",h="string",W="position",M="absolute",c="0",s="opacity",j="background",r=Y.Default,G=r.getInternal(),n=Y.Color,g=r.animate,J=r.isTouchable,x=null,_=(Math.sqrt,y.parseInt),D=y.setTimeout,X=(Math.round,n.titleIconBackground),v=function(S){return typeof S===h||S instanceof String},E=function(){return document},e=function(w){return E().createElement(w)},T=function(){var v=e("div");return v.tabIndex=-1,v.style.outline="none",v},i=function(){return e("canvas")},H=function(n,a){F(n,"-webkit-transform",a),F(n,"-ms-transform",a),F(n,"transform",a)},F=function(X,H,o){X.style.setProperty(H,o,x)},C=function(d,b,h){r.def(Y.widget[d],b,h)},d=function(B,V){B.appendChild(V)},S=function(){return E().documentElement},$=function(){return S().clientWidth},m=function(){return S().clientHeight},t=G.addEventListener,z=G.removeEventListener,a=function(X){var z=X.touches[0];return z?z:X.changedTouches[0]};G.addMethod(r,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:X},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:X}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:X},{type:"rect",rect:[10,10,80,20],background:X}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:X},{type:"rect",rect:[10,34,56,14],background:X},{type:"rect",rect:[34,10,56,14],background:X},{type:"rect",rect:[82,10,8,56],background:X},{type:"rect",rect:[66,62,24,8],background:X}]},dialogTitleLabelColor:r.labelSelectColor,dialogTitleLabelFont:(J?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:r.labelFont,dialogTitleBackground:n.titleBackground,dialogHeaderBackground:n.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var B=function(i){var K=this;K.$1d=i,K.addListeners()};r.def(B,b,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(V){var H=this,y=H.$1d,e=y.$6d,u=y._config,n=y.$7d,T=V,K=V.target;if(n.contains(K)||r.preventDefault(V),r.isLeftButton(V)){J&&(T=a(V));var i=H.$8d={x:T.pageX,y:T.pageY};H.$9d={x:i.x,y:i.y},!u.maximized&&u.draggable&&e.contains(K)&&(H.$4d=!0,r.startDragging(H,V)),H.handle_mousemove(V)&&(H.$2d=!0,r.startDragging(H,V)),n.contains(V.target)||y.$41d.focus()}},handle_mousedown:function(C){this.handle_touchstart(C)},handle_touchend:function(k){if(r.isLeftButton(k)&&!this.$5d&&!this.$3d){var e=this,V=e.$1d,U=k.target,F=V._config,s=V.$18d,Y=V.$16d;for(F.closable&&s.contains(U)&&V.hide(),F.maximizable&&Y.contains(U)&&(F.maximized?V.restore():V.maximize());U&&(U.className||"").indexOf("dialog-button")<0;)U=U.parentNode;U&&U.buttonItem&&V.action&&V.action(U.buttonItem,k),delete e.$8d,delete e.$9d}},handle_mouseup:function(x){this.handle_touchend(x)},handleWindowTouchEnd:function(e){var v=this,H=v.$1d,r=H.$10d;v.$2d&&v.$3d?r.fire({kind:"endResize",target:H,originEvent:e}):v.$4d&&v.$5d&&r.fire({kind:"endMove",target:H,originEvent:e}),this.clear()},handleWindowMouseUp:function(B){this.handleWindowTouchEnd(B)},handle_mousemove:function(o){var G=this.$1d._config;if(G.maximized)return!1;if("w"!==G.resizeMode&&"h"!==G.resizeMode&&"wh"!==G.resizeMode)return!1;var c=this,s=c.getView(),T=s.querySelector(".resize-area"),u=T.getBoundingClientRect(),l={x:u.left,y:u.top,width:u.width,height:u.height};o=J?a(o):o;var S=o.clientX,d=o.clientY,f={x:S,y:d};return r.containsPoint(l,f)?(F(s,"cursor","nwse-resize"),!0):(F(s,"cursor",K),void 0)},handleWindowTouchMove:function(W){W.preventDefault();var Q=W;J&&(Q=a(W));var n=this,d=n.$8d,t=n.$9d;if(!(t.x==d.x&&t.y==d.y&&r.getDistance(t,{x:Q.pageX,y:Q.pageY})<=1)){var l=n.$1d,v=l._config,L=l.$21d,j=v.resizeMode||"wh",f=Q.pageX-d.x,N=Q.pageY-d.y;if(n.$2d){var H=L.offsetWidth,D=L.offsetHeight,O=H+f,M=D+N;if(O=Math.max(O,50),M=Math.max(M,50),"center"===v.position||v.position==x){var R={},p=L.getBoundingClientRect();R.x=p.left,R.y=p.top,v.position=R}"w"===j?(l.setSize(O,D),d.x+=O-H):"h"===j?(l.setSize(H,M),d.y+=M-D):"wh"===j&&(l.setSize(O,M),d.x+=O-H,d.y+=M-D),n.$3d?l.$10d.fire({kind:"betweenResize",target:l,originEvent:W}):(n.$3d=!0,l.$10d.fire({kind:"beginResize",target:l,originEvent:W}))}else if(n.$4d){var A=L.getBoundingClientRect(),e=A.width,b=A.height,B=$(),i=m(),w=_(L.style.left)||0,V=_(L.style.top)||0,C=w+f,Z=V+N,T=l.adjustPosition({x:C,y:Z},{width:e,height:b},{width:B,height:i});T&&(C=T.x,Z=T.y);var q=C-w,k=Z-V;F(L,o,C+P),F(L,u,Z+P),d.x+=q,d.y+=k,v.position={x:C,y:Z},n.$5d?l.$10d.fire({kind:"betweenMove",target:l,originEvent:W}):(n.$5d=!0,l.$10d.fire({kind:"beginMove",target:l,originEvent:W}))}}},handleWindowMouseMove:function(Z){this.handleWindowTouchMove(Z)},handleWindowResize:function(){var C=this,T=C,w=T._config,W=T.$21d,Z=$(),J=m(),a=w.width,_=w.height,E=w.position||"center";w.maximized?(F(W,l,Z+P),F(W,O,J+P),F(W,u,c),F(W,o,c)):(F(W,l,a+P),F(W,O,_+P),"center"===E?(F(W,o,(Z-a)/2+P),F(W,u,(J-_)/2+P)):(F(W,o,E.x+P),F(W,u,E.y+P))),T.iv()},handle_mousewheel:function(d){d.stopPropagation()},handle_DOMMouseScroll:function(c){c.stopPropagation()}}),Y.widget.Dialog=function(K){var C=this,j=C._view=G.createView(null,C);j[U]="ht-widget-dialog",F(j,W,M),r.baseZIndex!=x&&F(j,"z-index",r.baseZIndex+"");var b=C.$11d=new B(C);C.bindingHandleWindowResize=b.handleWindowResize.bind(C),C.$10d=new Y.Notifier,K&&C.setConfig(K)},C("Dialog",b,{ms_v:1,ms_fire:1,setTitle:function(F){this._config.title=F,this.getView().querySelector(".dialog-container-title span").innerHTML=F},clearNodes:function(A){if(A)for(;A.firstChild;)A.removeChild(A.firstChild)},$31d:function(){var m=this,z=m.$6d=T(),Y=m._config,f=m.$12d=m.$13d();z[U]="dialog-container-title",F(z,"cursor","default"),F(z,"white-space","nowrap"),F(z,"overflow","hidden"),F(z,"font",r.dialogTitleLabelFont),F(z,j,Y.titleBackground||r.dialogTitleBackground),F(z,"color",Y.titleColor||r.dialogTitleLabelColor);var N=e("span"),X=m.$25d();if(Y.titleAlign&&F(z,"text-align",Y.titleAlign),Y.titleIcon){var y=m.$14d=m.$15d();d(z,y)}if(Y.title&&Y.title.trim&&(Y.title=Y.title.trim()),N[L]=Y.title||"&nbsp;",d(z,N),Y.maximizable){var I=m.$16d=m.$17d();d(f,I)}if(Y.closable){var G=m.$18d=m.$19d();d(f,G)}return d(z,f),F(z,"display","block"),F(z,"line-height",X+P),z},$13d:function(){var R=T();return F(R,W,M),F(R,o,c),F(R,q,5+P),F(R,u,c),F(R,w,c),F(R,"text-align",q),F(R,"white-space","nowrap"),R[U]="dialog-title-controls",R},$20d:function(){var Q=this.$21d=T(),O=this._config,C=O.borderWidth;return F(Q,W,"fixed"),F(Q,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),F(Q,"padding",c+" "+C+P+" "+C+P+" "+C+P),F(Q,"box-sizing","border-box"),F(Q,"-moz-box-sizing","border-box"),Q[U]="dialog-container",F(Q,j,O.titleBackground||r.dialogTitleBackground),Q},$22d:function(){var V,g=this,G=g._config,i=g.$7d=T(),a=G.content,m=0,s=G.contentPadding||0;G.buttons!=x&&G.buttons.length>0&&(m=32),v(a)?i[L]=a:a.getView?(V=a.getView(),d(i,V)):(V=a,d(i,V)),F(i,W,M),F(i,"font",r.dialogContentLabelFont),Y.Default.appendToScreen(i);var X=i.offsetWidth+1,H=i.offsetHeight,J=g.$25d();return G.width==x&&(G.width=X+10+2*s),G.height==x&&(G.height=H+J+m+5+2*s),Y.Default.removeHTML(i),V&&(F(V,"box-sizing","border-box"),F(V,"-moz-box-sizing","border-box"),F(V,l,"100%"),F(V,O,"100%")),i[U]="dialog-content",F(i,u,J+s+P),F(i,w,m+s+P),F(i,o,s+P),F(i,q,s+P),F(i,"overflow","hidden"),i},getOverlayDiv:function(){return this.$41d},$23d:function(){var d=this.$41d=T();return d[U]="dialog-overlay",F(d,l,"100%"),F(d,O,"100%"),F(d,W,"fixed"),F(d,u,c),F(d,o,c),F(d,j,"rgba(235, 235, 235, 0.7)"),d},_config:x,setSize:function(F,e){var P=this,b=P._config;b&&(b.width=F,b.height=e,P.isShowing()&&(P.bindingHandleWindowResize(),P.iv()))},getConfig:function(){return this._config},$24d:function(){var I=this._config,G=I.titleIconSize||16;return J&&(G*=1.2),G},$25d:function(){var A=this._config,c=A.titleHeight||r.widgetTitleHeight;return c},$26d:function(e){F(e,"cursor","pointer"),F(e,"display","inline-block"),F(e,"margin-right",(J?8:4)+P),F(e,"vertical-align",u)},$27d:function(){var Y=this.$30d=T(),C=10;return J&&(C=20),F(Y,l,C+P),F(Y,O,C+P),F(Y,W,M),F(Y,w,c),F(Y,q,c),Y[U]="resize-area",Y},$15d:function(){var X=this,f=i();f[U]="dialog-title-control dialog-title-control-icon";var D=X.$25d(),m=X.$24d();return X.$26d(f),G.setCanvas(f,m,D),f},$17d:function(){var A=i();A[U]="dialog-title-control dialog-title-control-maximize";var V=this.$25d(),Q=this.$24d();return this.$26d(A),G.setCanvas(A,Q,V),A},$19d:function(){var t=i();t[U]="dialog-title-control dialog-title-control-close";var z=this.$25d(),T=this.$24d();return this.$26d(t),G.setCanvas(t,T,z),t},$28d:function(){var E=T();return F(E,j,r.dialogContentBackground||"white"),F(E,l,"100%"),F(E,O,"100%"),F(E,W,"relative"),E},$29d:function(){var B=this,z=T();F(z,"line-height",32+P),F(z,W,M),F(z,w,c),F(z,o,c),F(z,"white-space","nowrap"),F(z,"overflow","hidden"),F(z,q,c),F(z,j,r.dialogHeaderBackground),z[U]="dialog-container-buttons";var t=this._config,p=t.buttonsAlign||q,V=0;return F(z,"text-align",p),B.$42d=[],t.buttons.forEach(function(Q){var e=new Y.widget.Button,E=e.getView();E[U]="dialog-button "+Q.className,E.buttonItem=Q,B.$42d.push(e),e.setBorderColor(x),e.setBackground(r.dialogButtonBackground),e.setSelectBackground(r.dialogButtonSelectBackground),e.setLabelColor(r.dialogButtonLabelColor),F(E,W,"relative"),F(E,"display","inline-block"),F(E,"text-align",o),F(E,"height",24+P);var s=J?10:5;p===o||p===q?F(E,"margin-"+p,s+P):0===V||F(E,"margin-"+o,s+P),F(E,"vertical-align","middle");var D=r.getTextSize(e.getLabelFont(),Q.label).width+10;e.onClicked=function(N){Q.action&&Q.action.call(B,Q,N)},e.setLabel(Q.label),e.setDisabled(Q.disabled),F(E,l,D+P),d(z,e.getView()),V++}),z},setConfig:function(o){if(o){var f=this,Q=f._view;f._config=o,f.action=o.action,f.clearNodes(Q),o.borderWidth==x&&(o.borderWidth=5);var U=f.$23d(),A=f.$28d(),T=f.$31d(),Y=f.$22d(),n=f.$20d(),w=f.$30d=f.$27d();if(d(Q,U),d(Q,n),d(n,A),d(A,T),d(A,Y),o.buttons!=x&&o.buttons.length>0){var z=f.$29d();d(A,z)}d(n,w),o.maximized?(o.maximized=!1,f.bindingHandleWindowResize(),f.maximize(!0)):f.bindingHandleWindowResize(),f.isShowing()&&f.iv()}},hide:function(){var B=this,m=B.$21d,J=B.$41d,R=B._view;R[U]="ht-widget-dialog",g(m).duration(200).scale(.7).set(s,c).end(function(){B.onHidden&&B.onHidden(),Y.Default.removeHTML(R),B.$10d.fire({kind:"hide",target:B})}),g(J).duration(200).set(s,c).end(),z(y,"resize",B.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(R){this.$41d.style.display=R?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var g=this,r=g._config,j=g.$21d;H(j,K),g.iv(),r.maximized?g.$10d.fire({kind:"maximize",target:g}):g.$10d.fire({kind:"restore",target:g})},maximize:function(h){var b=this,S=b.$21d,w=b._config;if(!w.maximized){w.maximized=!0,b.$33d(),b.$16d[U]="dialog-title-control dialog-title-control-minimize";var x=$(),V=m(),C=w.width,i=w.height,d=_(S.style.left)||0,t=_(S.style.top)||0;b.$36d=C,b.$37d=i,b.$34d=d,b.$35d=t;var z=h?0:200;g(S).duration(z).set(o,c).set(u,c).set(l,x+P).set(O,V+P).end(function(){b.$32d()})}},restore:function(){var h=this,V=h.$34d,p=h.$35d,j=h.$36d,D=h.$37d,s=h._config;if(s.maximized&&(s.maximized=!1,h.$33d(),h.$16d[U]="dialog-title-control dialog-title-control-maximize",h.isShowing()&&V!=x&&p!=x&&j!=x&&D!=x)){var F=h.$21d;g(F).duration(200).set(o,V+P).set(u,p+P).set(l,j+P).set(O,D+P).end(function(){h.$32d()})}delete h.$34d,delete h.$35d,delete h.$36d,delete h.$37d},show:function(){var C=this,Z=C._view,n=C._config,d=C.$21d,f=C.$41d;n&&n.zIndex!=x&&F(Z,"z-index",n.zIndex+K),Y.Default.appendToScreen(Z),H(d,"scale(0.7)"),F(d,s,c),C.iv(),C.validate(),C._view[U]+=" dialog-show",D(function(){g(d).duration(200).scale(1).set(s,"1").end(function(){F(d,l,d.clientWidth+P),F(d,O,d.clientHeight+P),C.onShown&&C.onShown(),C.$10d.fire({kind:"show",target:C});var D=n&&n.content;D&&D.iv&&D.iv()}),g(f).duration(200).set(s,"1").end(),t(y,"resize",C.bindingHandleWindowResize)},30)},setPosition:function(a){var v=this.$21d;v.style.left=a.x+"px",v.style.top=a.y+"px"},addEventListener:function(w,e,H){this.$10d.add(w,e,H)},removeEventListener:function(I,Q){this.$10d.remove(I,Q)},$38d:function(O,f,L,U){var C=G.initContext(O);G.translateAndScale(C,0,0,1),C.clearRect(0,0,L,L);var J=(L-U)/2;r.drawStretchImage(C,r.getImage(f),"fill",0,J,U,U),C.restore()},$33d:function(){var n=this,I=n._config,A=n.$16d,L=I.maximized?r.dialogRestoreIcon:r.dialogMaximizeIcon;if(A&&L){var D=n.$25d(),Y=n.$24d();n.$38d(A,r.getImage(L),D,Y)}},$39d:function(){var Z=this,P=Z._config,d=Z.$14d,n=P.titleIcon;if(d&&n){var F=Z.$25d(),L=Z.$24d();Z.$38d(d,r.getImage(n),F,L)}},$40d:function(){var k=this,o=k.$18d,J=r.dialogCloseIcon;if(o&&J){var U=k.$25d(),E=k.$24d();k.$38d(o,r.getImage(J),U,E)}},invalidate:function(h){var e=this,A=e.$42d;e._68I||(e._68I=1,r.callLater(e.validate,e,x,h),e.onInvalidated&&e.onInvalidated(),e.fireViewEvent("invalidate"));var Q=e._config.content;Q.invalidate&&Q.invalidate(),A&&A.forEach(function(m){m.iv()})},validateImpl:function(){var c=this;c.$40d(),c.$33d(),c.$39d();var g=c._config.content;g.initView&&(g.setX(0),g.setY(0),g.setWidth(c.$7d.clientWidth),g.setHeight(c.$7d.clientHeight))},adjustPosition:function(w,$,J){var B=$.width,g=$.height,X=J.width,N=J.height,E=w.x,f=w.y,Z=this._config,z=Z.minDragSize||20;return"inside"===Z.dragMode?(E+B>X&&(E=X-B),f+g>N&&(f=N-g),0>E&&(E=0),0>f&&(f=0)):(null==Z.dragMode||"none"===Z.dragMode)&&(-B+z>E&&(E=-B+z),E>X-z&&(E=X-z),f>N-z&&(f=N-z),0>f&&(f=0)),{x:E,y:f}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);