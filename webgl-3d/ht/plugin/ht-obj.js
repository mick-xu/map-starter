!function(N,v,b){"use strict";var c="ht",d=N[c],W=null,q=Math,k=q.abs,y=q.max,g=Number.MAX_VALUE,M=d.Default,e=M.getInternal(),w=M.clone,t=e.vec3TransformMat4,U=[0,0],L=e.appendArray,C=function(){function H(t,I,o,S){if(t){var x=t[S];if(x){o.ignoreColor||(I.color=x.kd),!o.ignoreTransparent&&x.d>0&&x.d<1&&(I.transparent=!0,I.opacity=x.d);var Y;if(!o.ignoreImage&&(Y=x.map_kd)){Y=Y.split(" ");for(var X=-1,k=0;k<Y.length;k++)"-o"===Y[k]?(I.uvOffset=[parseFloat(Y[k+1]),parseFloat(Y[k+2])],k+=3,X=k):"-s"===Y[k]&&(I.uvScale=[parseFloat(Y[k+1]),parseFloat(Y[k+2])],k+=3,X=k);I.image=(o.prefix||"")+Y.splice(X+1).join(" ")}}}}var c=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,P=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,l=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,R=/^[og]\s*(.+)?/,K=function(r,g){return g=parseInt(g),g>=0?r[g-1]:r[g+r.length]},o=function(A,C,i,B,d){if(A.lvs){var U=K(C,B),$=K(C,d),x=i.matrix,G=A.lvs;x?(L(G,t(w(U),x)),L(G,t(w($),x))):(L(G,U),L(G,$))}},Y=function(M,h,W,q,A,m){if(M.vs){var c=K(h,q),B=K(h,A),d=K(h,m),C=W.matrix,N=M.vs;if(W.flipFace){var u=B;B=d,d=u}C?(L(N,t(w(c),C)),L(N,t(w(B),C)),L(N,t(w(d),C))):(L(N,c),L(N,B),L(N,d))}},n=function(r,H,E,I,G,i){if(r.vs){var w=E.flipY,F=I===b?U:K(H,I),P=G===b?U:K(H,G),t=i===b?U:K(H,i);if(E.flipFace){var j=P;P=t,t=j}r.uv.push(F[0],w?1-F[1]:F[1],P[0],w?1-P[1]:P[1],t[0],w?1-t[1]:t[1])}},O=function(F,s,D,P,b,H){if(F.vs){var z=K(s,P),G=K(s,b),v=K(s,H),A=D.normalMatrix,o=F.ns;if(D.flipFace){var C=G;G=v,v=C}A?(L(o,t(w(z),A)),L(o,t(w(G),A)),L(o,t(w(v),A))):(L(o,z),L(o,G),L(o,v))}},x=function(f,U,F,R){for(var P=R.length-1,x=0;P>x;++x)o(f,U,F,R[x],R[x+1]);o(f,U,F,R[P],R[0])},C=function(d,Q,J,S,s,K,G,I){var _=S&&S.length&&I;K[3]===b?(Y(d,Q,s,K[0],K[1],K[2]),G?n(d,J,s,G[0],G[1],G[2]):d.uv&&d.uv.length&&n(d,J,s),_&&O(d,S,s,I[0],I[1],I[2])):(Y(d,Q,s,K[0],K[1],K[3]),Y(d,Q,s,K[1],K[2],K[3]),G?(n(d,J,s,G[0],G[1],G[3]),n(d,J,s,G[1],G[2],G[3])):d.uv&&d.uv.length&&(n(d,J,s),n(d,J,s)),_&&(O(d,S,s,I[0],I[1],I[3]),O(d,S,s,I[1],I[2],I[3])))},T=function(e,H,m,c){var b,Q,r,U,G,p,N,J,E=g,v=g,I=g,V=-g,q=-g,u=-g;for(b in e)for(p=e[b].vs,J=p.length,Q=0;J>Q;Q+=3)r=p[Q+0],U=p[Q+1],G=p[Q+2],E>r&&(E=r),v>U&&(v=U),I>G&&(I=G),r>V&&(V=r),U>q&&(q=U),G>u&&(u=G);if(m){var t=E+(V-E)/2,$=v+(q-v)/2,z=I+(u-I)/2;for(b in e){for(p=e[b].vs,J=p.length,Q=0;J>Q;Q+=3)p[Q+0]-=t,p[Q+1]-=$,p[Q+2]-=z;if(N=e[b].lvs)for(J=N.length,Q=0;J>Q;Q+=3)N[Q+0]-=t,N[Q+1]-=$,N[Q+2]-=z}}var T,Z,P;m?(T=V-E,Z=q-v,P=u-I):(T=2*y(k(E),k(V)),Z=2*y(k(v),k(q)),P=2*y(k(I),k(u))),0===T&&(T=Math.min(Z,P)/1e3||.001),0===Z&&(Z=Math.min(T,P)/1e3||.001),0===P&&(P=Math.min(T,Z)/1e3||.001),c.rawS3=[T,Z,P];for(b in e){if(p=e[b].vs,N=e[b].lvs,H){for(J=p.length,Q=0;J>Q;Q+=3)T&&(p[Q+0]/=T),Z&&(p[Q+1]/=Z),P&&(p[Q+2]/=P);if(N)for(J=N.length,Q=0;J>Q;Q+=3)T&&(N[Q+0]/=T),Z&&(N[Q+1]/=Z),P&&(N[Q+2]/=P);var Y=e[b].ns;if(Y){J=Y.length;var x=new d.Math.Vector3;for(Q=0;J>Q;Q+=3)x.set(Y[Q+0]*T,Y[Q+1]*Z,Y[Q+2]*P).normalize(),Y[Q+0]=x.x,Y[Q+1]=x.y,Y[Q+2]=x.z}}e[b].rawS3=c.rawS3}};return function(Q,q,r){if(!Q)return W;(e.isString(q)||q instanceof ArrayBuffer)&&(q=J(q)),r||(r={}),r.flipY==W&&(r.flipY=!0),(r.s3||r.r3||r.t3||r.mat)&&(r.matrix=e.createWorldMatrix(r.mat,r.s3,r.r3,r.rotationMode,r.t3));var z,k,t,s,o,X=d.Style["wf.loadQuadWireframe"],p=[],$=[],g=r.ignoreNormal?W:[],I=r.reverseFlipMtls,E={vs:[],uv:[],ns:g?[]:W},S={htdefault:E},A=new u(Q),O={},G="";for(g&&r.matrix&&(r.normalMatrix=e.createNormalMatrix(r.matrix));null!=(k=A.stepNext());)if(k=k.trim(),0!==k.length&&"#"!==k.charAt(0))if(k.indexOf("\\")!==k.length-1)if(G&&(k=G+k,G=""),k.indexOf("#QNAN0")>=0&&(k=k.replace(/#QNAN0/gi,"0")),t=c.exec(k))p.push([parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])]);else if(t=P.exec(k))$.push([parseFloat(t[1]),parseFloat(t[2])]);else if(g&&(t=l.exec(k)))r.flipFace?g.push([parseFloat(-t[1]),parseFloat(-t[2]),parseFloat(-t[3])]):g.push([parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])]);else if("f"===k[0]){var D=k.split(/\s+/);if(D.length<4)continue;var B,z,h,f=[],n=[],w=[];for(z=1,h=D.length;h>z;z++)B=D[z].split("/"),f.push(parseInt(B[0],10)),B.length>1&&B[1].length>0&&w.push(parseInt(B[1],10)),B.length>2&&B[2].length>0&&n.push(parseInt(B[2],10));for(z=0,h=f.length-2;h>z;z++)C(E,p,$,g,r,[f[0],f[z+1],f[z+2]],w.length?[w[0],w[z+1],w[z+2]]:W,n.length?[n[0],n[z+1],n[z+2]]:W);X&&x(E,p,r,f)}else if(r.part&&null!==(t=R.exec(k))){E.vs&&0!==E.vs.length||(delete S[E.name],O[E.name]--);var s=(" "+t[0].substr(1).trim()).substr(1),Z=O[s]||0;O[s]=Z+1,o=s+(Z?Z:""),E=S[o]={name:o,vs:[],uv:[],ns:g?[]:W,lvs:X?[]:W}}else/^usemtl /.test(k)&&(s=k.substring(7).trim(),r.part?H(q,E,r,s):(E=S[s])||(E=S[s]={name:s,vs:[],uv:[],ns:g?[]:W,lvs:X?[]:W},r.ignoreMtls&&r.ignoreMtls.indexOf(s)>=0&&delete E.vs,(r.reverseFlip||"*"===I||I&&I.indexOf(s)>=0)&&(E.reverseFlip=!0),H(q,E,r,s)));else G+=k.substring(0,k.length-1);var y=[];for(var L in S){var Y=S[L].vs;if(Y&&0!==Y.length){var b=S[L].uv;if(b)for(var v=2*Y.length/3-b.length;v-->0;)b.push(0)}else y.push(L)}y.forEach(function(Z){delete S[Z]}),T(S,r.cube,r.center,r);var F=r.shape3d;if(F){var N=[];for(var s in S){var E=S[s];N.rawS3=E.rawS3,N.push(E)}M.setShape3dModel(F,N)}return S}}(),J=function(t){var A={};if(t)for(var L,P,M,b,f,n,j=new u(t),p=/\s+/;null!=(P=j.stepNext());)P=P.trim(),0!==P.length&&"#"!==P.charAt(0)&&(M=P.indexOf(" "),b=(M?P.substring(0,M):P).toLowerCase(),f=(M?P.substring(M+1):"").trim(),"newmtl"===b?A[f]=L={name:f}:L&&("ka"===b||"kd"===b||"ks"===b?(n=f.split(p,3),L[b]=[parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),1]):L[b]="ns"===b||"d"===b?parseFloat(f):f));return A},u=function(b){var h=this;if(b instanceof ArrayBuffer){h.isBuffer=!0;var w=0,T=new Uint8Array(b),q=T.length,m=T.length;h.stepNext=function(){for(var u,e,C=w;q>w;)if(u=T[w],e=u>>4,12===e||13==e)w+=2;else if(14===e)w+=3;else if(w++,10===u)return String.fromCharCode.apply(null,T.subarray(C,w));return w>C?String.fromCharCode.apply(null,T.subarray(C,w)):null}}else{h.isBuffer=!1;var R=b.split("\n"),r=0,m=R.length;h.stepNext=function(){return m>r?R[r++]:null}}};u.prototype={},u.prototype.constructor=u,e.addMethod(M,{loadObj:function(w,K,n){n=n||{};var O=!1;/(MSIE |Trident\/|Edge\/)/.test(N.navigator.userAgent)&&(O=!0);var u=function(d){var K,B=n.finishFunc,E=n.shape3d,z=d?C(d[0],d[1],n):null;if(z){if(E)K=M.getShape3dModel(E);else{K=[];for(var g in z){var l=z[g];K.rawS3=l.rawS3,K.push(l)}}B&&B(z,K,K.rawS3)}else B&&B(null)};if(O){var a=function(t){n.responseType="arraybuffer",M.xhrLoad(w,function(m){u([m,t])},n)};K?M.xhrLoad(K,function(W){a(W)},n):a()}else M.xhrLoad(K?[w,K]:[w],u,n)},parseObj:function(y,t,u){return C(y,t,u)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);